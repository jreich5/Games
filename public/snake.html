<!-- pu.dev/snake.html -->

<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Snake!</title>

    <!-- Bootstrap Core CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <style type="text/css">
        canvas {
            background-color: rgb(27,27,255);
        }

    </style>

</head>

<body>

    <main class="container">
        <h1>Snake Game</h1>
        <canvas id="canvas" width="1000" height="600"></canvas>
        

    </main>
    
    <!-- jQuery Version 1.11.1 -->
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- Custom JS -->

    <script>
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");
        var x = 0; // snake position on x axis
        var y = 0; // snake position on y axis
        var canvasColor = "rgb(0,0,255)";
        var snakeColor = "green";
        var currentDirection = 'right';
        var game = true;
        var canvasHeight = document.getElementById("canvas").getAttribute("height");
        var canvasWidth = document.getElementById("canvas").getAttribute("width");
        var snakeHeight = 50;
        var snakeWidth = 50;
        var creepDistance = 1;
        var speed = 10;

        // size of snake
        function fillIt() {
            ctx.fillRect(x, y, snakeHeight, snakeWidth);
        } 

        function fillEyes(direction) {
            switch(direction) {
                // (y + snakeWidth * .75) 
                case 'up':
                    // left eye
                    ctx.fillStyle = "black";
                    ctx.fillRect((x + snakeWidth * .35), (y + snakeWidth * .25), (snakeWidth * .05), (snakeWidth * .05));

                    // right eye
                    ctx.fillStyle = "black";
                    ctx.fillRect(((x + snakeWidth * .65)), (y + snakeWidth * .25), (snakeWidth * .05), (snakeWidth * .05));
                    break;

                case 'down':
                    // left eye
                    ctx.fillStyle = "black";
                    ctx.fillRect(((x + snakeWidth * .65)), (y + snakeWidth * .75), (snakeWidth * .05), (snakeWidth * .05));

                    // right eye
                    ctx.fillStyle = "black";
                    ctx.fillRect((x + snakeWidth * .35), (y + snakeWidth * .75), (snakeWidth * .05), (snakeWidth * .05));
                    break;

                case 'left':
                    // left eye
                    ctx.fillStyle = "black";
                    ctx.fillRect((x + snakeWidth * .25), (y + snakeWidth * .35), (snakeWidth * .05), (snakeWidth * .05));

                    // right eye
                    ctx.fillStyle = "black";
                    ctx.fillRect((x + snakeWidth * .25), (y + snakeWidth * .65) , (snakeWidth * .05), (snakeWidth * .05));
                    break;

                case 'right':
                    // left eye
                    ctx.fillStyle = "black";
                    ctx.fillRect((x + snakeWidth * .75), (y + snakeWidth * .35), (snakeWidth * .05), (snakeWidth * .05));

                    // right eye
                    ctx.fillStyle = "black";
                    ctx.fillRect((x + snakeWidth * .75), (y + snakeWidth * .65) , (snakeWidth * .05), (snakeWidth * .05)); 
                    break;
            }
        }

        var direction = {
            up : function() {
                    if (y > 0) {
                        ctx.fillStyle = canvasColor;
                        fillIt();
                        y -= creepDistance;
                        ctx.fillStyle = snakeColor;
                        fillIt();
                        fillEyes('up');
                    }    
                },
            down : function() {
                    if (y < canvasHeight - snakeWidth) {
                        ctx.fillStyle = canvasColor;
                        fillIt();
                        y += creepDistance;
                        ctx.fillStyle = snakeColor;
                        fillIt();
                        fillEyes('down');
                    }    
                },
            left : function() {
                    if (x > 0) {
                        ctx.fillStyle = canvasColor;
                        fillIt();
                        x -= creepDistance;
                        ctx.fillStyle = snakeColor;
                        fillIt();
                        fillEyes('left');
                    }    
                },
            right : function() {
                    if (x < canvasWidth - snakeWidth) {
                        ctx.fillStyle = canvasColor;
                        fillIt();
                        x += creepDistance;
                        ctx.fillStyle = snakeColor;
                        fillIt();
                        fillEyes('right');
                    }    
                }
        }
        
        function startGame() {
            setInterval(function(orientation) {
                orientation = currentDirection;
                switch(orientation) {
                    case 'up':
                        direction.up();
                        break;

                    case 'down':
                        direction.down();
                        break;

                    case 'left':
                        direction.left();
                        break;

                    case 'right':
                        direction.right();
                        break;
                }
            }, speed);
        } 

        // Event Listeners
        document.addEventListener('keydown', function(event) {
            if (event.which === 37) {
                console.log("LEFT");
                deriveOrientation('left');
            }
            if (event.which === 39) {
                console.log("RIGHT");
                deriveOrientation('right');
            }
        });

        function deriveOrientation(command) {
            switch(command) {
                case 'left':
                    switch(currentDirection) {
                        case 'up':
                            currentDirection = 'left';
                            break;
                        case 'down':
                            currentDirection = 'right';
                            break;
                        case 'left':
                            currentDirection = 'down';
                            break;
                        case 'right':
                            currentDirection = 'up';
                            break;
                    }
                    break;
                case 'right':
                    switch(currentDirection) {
                        case 'up':
                            currentDirection = 'right';
                            break;
                        case 'down':
                            currentDirection = 'left';
                            break;
                        case 'left':
                            currentDirection = 'up';
                            break;
                        case 'right':
                            currentDirection = 'down';
                            break;
                    }
                    break;
            }  
        }

        // ++++++++++++++++++++++++++++++++++++++++ Procedural Code ++++++++++++++++++++++++++++++++++++++++


        ctx.fillStyle = "green";
        ctx.fillRect(x, y, snakeHeight, snakeWidth);

        // left eye
        ctx.fillStyle = "black";
        ctx.fillRect((x + (snakeWidth * .75)), (y + (snakeWidth * .35)), (snakeWidth * .05), (snakeWidth * .05));

        // right eye
        ctx.fillStyle = "black";
        ctx.fillRect((x + (snakeWidth * .75)), (y + (snakeWidth * .65)), (snakeWidth * .05), (snakeWidth * .05));

 
        
        
        startGame();

    
        



    </script>

</body>

</html>
